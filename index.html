<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Salary Stopwatch</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      margin:0; min-height:100vh;
      background: linear-gradient(135deg,#667eea,#764ba2);
      display:flex; align-items:center; justify-content:center;
      color:#333;
    }
    .container {
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      border-radius:20px; padding:40px;
      box-shadow:0 20px 40px rgba(0,0,0,0.1);
      max-width:500px; width:90%;
      text-align:left;
    }
    h1 {
      text-align:center; margin-bottom:20px;
      font-size:2em; font-weight:400;
      color:#333;
    }
    .input-group { margin-bottom:20px; }
    .input-group label {
      display:block; margin-bottom:8px;
      font-weight:600; font-size:.9em; color:#555;
      text-transform:uppercase; letter-spacing:.5px;
    }
    .input-group input,
    .input-group select {
      width:100%; padding:12px;
      border:2px solid #e1e5e9; border-radius:10px;
      font-size:1em; transition:all .2s ease;
    }
    .input-group input:focus,
    .input-group select:focus {
      outline:none; border-color:#667eea;
      box-shadow:0 0 0 3px rgba(102,126,234,0.2);
    }
    .time-pair {
      display:flex; gap:10px;
    }
    .time-pair .input-group { flex:1; margin-bottom:0; }
    .btn {
      width:100%; padding:15px; font-size:1em;
      font-weight:600; border:none; border-radius:10px;
      cursor:pointer; text-transform:uppercase;
      letter-spacing:1px; transition:all .2s ease;
      margin-top:10px;
    }
    .btn-primary {
      background:linear-gradient(135deg,#667eea,#764ba2);
      color:#fff;
    }
    .btn-primary:hover {
      transform:translateY(-1px);
      box-shadow:0 8px 20px rgba(102,126,234,0.3);
    }
    .btn-secondary {
      background:#f8f9fa; color:#495057; border:2px solid #e9ecef;
    }
    .stopwatch-display { text-align:center; margin:30px 0; }
    .time-display { font-size:1.2em; color:#666; }
    .earnings {
      font-size:3em; font-weight:700; margin:10px 0;
      color:#28a745; text-shadow:0 2px 4px rgba(40,167,69,0.2);
    }
    .stats {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(100px,1fr));
      gap:15px; margin:20px 0; padding:15px;
      background:rgba(255,255,255,0.5); border-radius:10px;
    }
    .stat-item {
      text-align:center; padding:10px; background:#fff;
      border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.05);
    }
    .stat-value { font-size:1.2em; font-weight:700; color:#667eea; }
    .stat-label { font-size:.75em; color:#666; text-transform:uppercase; }
    .hidden { display:none; }
  </style>
</head>
<body>

  <div class="container" id="config">
    <h1>Salary Stopwatch</h1>

    <div class="input-group">
      <label for="mode">Setup Mode</label>
      <select id="mode">
        <option value="hourly">Hourly Mode</option>
        <option value="salary">Salary Mode</option>
      </select>
    </div>

    <!-- Hourly Mode fields -->
    <div class="input-group" id="hourlyFields">
      <label for="hourlyRate">Hourly Rate</label>
      <input type="number" id="hourlyRate" placeholder="e.g. 15.00" min="0" step="0.01">
    </div>

    <!-- Salary Mode fields -->
    <div class="hidden" id="salaryFields">
      <div class="input-group">
        <label for="salaryAnnual">Annual Salary</label>
        <input type="number" id="salaryAnnual" placeholder="e.g. 50000" min="0" step="100">
      </div>
      <div class="input-group time-pair">
        <div>
          <label for="startTime">Today's Start Time</label>
          <input type="time" id="startTime" value="09:00">
        </div>
        <div>
          <label for="endTime">Today's End Time</label>
          <input type="time" id="endTime" value="17:00">
        </div>
      </div>
    </div>

    <div class="input-group">
      <label for="currency">Currency</label>
      <select id="currency">
        <option value="¬£">¬£ Pound</option>
        <option value="$">$ Dollar</option>
        <option value="‚Ç¨">‚Ç¨ Euro</option>
        <option value="¬•">¬• Yen</option>
      </select>
    </div>

    <div class="input-group">
      <label for="viewMode">Display Style</label>
      <select id="viewMode">
        <option value="simple">Modern</option>
        <option value="digital">Digital</option>
        <option value="flip">Flip</option>
      </select>
    </div>

    <button class="btn btn-primary" onclick="startStopwatch()">Start Earning!</button>
  </div>

  <div class="container hidden" id="stopwatch">
    <div class="stopwatch-display">
      <div class="time-display" id="timeDisplay">00:00:00</div>
      <div id="earnings" class="earnings">¬£0.00</div>
    </div>
    <div class="stats">
      <div class="stat-item"><div class="stat-value" id="perSecond">¬£0.00</div><div class="stat-label">Per Second</div></div>
      <div class="stat-item"><div class="stat-value" id="perMinute">¬£0.00</div><div class="stat-label">Per Minute</div></div>
      <div class="stat-item"><div class="stat-value" id="perHour">¬£0.00</div><div class="stat-label">Per Hour</div></div>
      <div class="stat-item"><div class="stat-value" id="perDay">¬£0.00</div><div class="stat-label">Per Day</div></div>
    </div>
    <div style="text-align:center; gap:10px; display:flex; justify-content:center;">
      <button class="btn btn-secondary" onclick="pauseResume()" id="pauseBtn">‚è∏Ô∏è Pause</button>
      <button class="btn btn-secondary" onclick="resetStopwatch()">üîÑ Reset</button>
    </div>
  </div>

  <script>
    const modeEl = document.getElementById('mode');
    const hourlyFields = document.getElementById('hourlyFields');
    const salaryFields = document.getElementById('salaryFields');

    modeEl.addEventListener('change', () => {
      if (modeEl.value === 'salary') {
        hourlyFields.classList.add('hidden');
        salaryFields.classList.remove('hidden');
      } else {
        hourlyFields.classList.remove('hidden');
        salaryFields.classList.add('hidden');
      }
    });

    let animationFrame, startTS, paused=false, pauseStart, pausedDur=0;
    let ratePerSec=0, initOffset=0;

    function formatNum(n) {
      return n.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});
    }

    function startStopwatch() {
      const mode = modeEl.value;
      const currency = document.getElementById('currency').value;
      let todayHours = 8;

      if (mode === 'hourly') {
        const hrRate = parseFloat(document.getElementById('hourlyRate').value);
        if (!hrRate || hrRate<0) return alert('Enter valid hourly rate');
        ratePerSec = hrRate/3600;
        initOffset = 0;
        todayHours = 8;
      } else {
        const salary = parseFloat(document.getElementById('salaryAnnual').value);
        if (!salary||salary<0) return alert('Enter valid annual salary');
        const [sh,sm] = document.getElementById('startTime').value.split(':').map(Number);
        const [eh,em] = document.getElementById('endTime').value.split(':').map(Number);
        const now = new Date(), sd=new Date(now); sd.setHours(sh,sm);
        const ed=new Date(now); ed.setHours(eh,em);
        if (ed<=sd) return alert('End must be after start');
        const workedSec = Math.min((now-sd)/1000,(ed-sd)/1000);
        const dayHours = (ed-sd)/3600000;
        ratePerSec = salary/(52*dayHours*3600*5);
        initOffset = workedSec*ratePerSec;
        todayHours = dayHours;
      }

      // stats
      document.getElementById('perSecond').innerText = currency+formatNum(ratePerSec);
      document.getElementById('perMinute').innerText = currency+formatNum(ratePerSec*60);
      document.getElementById('perHour').innerText = currency+formatNum(ratePerSec*3600);
      document.getElementById('perDay').innerText = currency+formatNum(ratePerSec*3600*todayHours);

      // toggle views
      document.getElementById('config').classList.add('hidden');
      const sw = document.getElementById('stopwatch');
      sw.classList.remove('hidden');
      document.getElementById('earnings').className = 'earnings ' + document.getElementById('viewMode').value;

      startTS = performance.now();
      pausedDur=0; paused=false;
      document.getElementById('pauseBtn').innerText='‚è∏Ô∏è Pause';
      updateLoop(currency);
    }

    function updateLoop(curr) {
      animationFrame = requestAnimationFrame(ts=> {
        if (!paused) {
          const elapsed=(ts-startTS-pausedDur)/1000;
          const total = initOffset + elapsed*ratePerSec;
          document.getElementById('earnings').innerText = curr+formatNum(total);
          document.getElementById('timeDisplay').innerText = new Date(elapsed*1000).toISOString().substr(11,8);
        }
        updateLoop(curr);
      });
    }

    function pauseResume() {
      if (!paused) {
        paused=true; pauseStart=performance.now();
        document.getElementById('pauseBtn').innerText='‚ñ∂Ô∏è Resume';
      } else {
        paused=false; pausedDur += performance.now()-pauseStart;
        document.getElementById('pauseBtn').innerText='‚è∏Ô∏è Pause';
      }
    }

    function resetStopwatch() {
      cancelAnimationFrame(animationFrame);
      document.getElementById('stopwatch').classList.add('hidden');
      document.getElementById('config').classList.remove('hidden');
    }
  </script>
</body>
</html>
